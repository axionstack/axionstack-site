<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Django for microapps? | Axion Stack</title>

    <!-- Begin Jekyll SEO tag v2.5.0 -->
<title>Django for microapps? | Axion Stack</title>
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="Django for microapps?" />
<meta name="author" content="awin" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="How to use Django for a tiny micro app? Running django from a single file." />
<meta property="og:description" content="How to use Django for a tiny micro app? Running django from a single file." />
<meta property="og:site_name" content="Axion Stack" />
<meta property="og:image" content="/blog/assets/img/posts/microapps.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-06-25T01:32:00+05:30" />
<script type="application/ld+json">
{"headline":"Django for microapps?","dateModified":"2021-06-25T01:32:00+05:30","datePublished":"2021-06-25T01:32:00+05:30","url":"/blog/django-for-microservices/","mainEntityOfPage":{"@type":"WebPage","@id":"/blog/django-for-microservices/"},"image":"/blog/assets/img/posts/microapps.jpg","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/blog/assets/images/logo.png"},"name":"awin"},"author":{"@type":"Person","name":"awin"},"description":"How to use Django for a tiny micro app? Running django from a single file.","@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


    <link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.png">

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/css2?family=Alata&family=Open+Sans&family=Source+Sans+Pro:wght@400;700&display=swap" rel="stylesheet">

    <!-- Bootstrap Modified -->
    <link rel="stylesheet" href="/blog/assets/css/main.css">

    <!-- Theme Stylesheet -->
    <link rel="stylesheet" href="/blog/assets/css/theme.css">

    <!-- Jquery on header to make sure everything works, the rest  of the scripts in footer for fast loading -->
    <script
    src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>

    <!-- This goes before </head> closing tag, Google Analytics can be placed here --> 

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-200885146-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-200885146-1');
</script>



</head>

<body class="">

    <!-- Navbar -->
    <nav id="MagicMenu" class="topnav navbar navbar-expand-lg bg-light navbar-light border-bottom-2 fixed-top">
    <div class="container">
        <a class="navbar-brand" href="/blog/">
            <span>Axion Stack - Blog</span>
        </a><strong></strong>
        <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
        <div class="navbar-collapse collapse" id="navbarColor02" style="">
            <ul class="navbar-nav mr-auto d-flex align-items-center">
               <!--  Replace menu links here -->

<li class="nav-item">
  <a class="nav-link" href="https://axionstack.com" target='_blank'>Web Home <i class='fas fa-external-link-alt'></i></a>
</li>

<li class="nav-item">
  <a class="nav-link" href="/blog/category/shorts">Short Posts</a>
</li>

<li class="nav-item">
  <a class="nav-link" href="/blog/category/startup">Art of the Start</a>
</li>

<li class="nav-item">
  <a class="nav-link" target='_blank' href="https://calendly.com/awin/lets-talk">Let's Talk</a>
</li>

            </ul>
            <ul class="navbar-nav ml-auto d-flex align-items-center">
                <script src="/blog/assets/js/lunr.js"></script>

<script>
$(function() {
    $("#lunrsearchresults").on('click', '#btnx', function () {
        $('#lunrsearchresults').hide( 1000 );
        $( "body" ).removeClass( "modal-open" );
    });
});


var documents = [{
    "id": 0,
    "url": "/blog/404/",
    "title": "",
    "body": " 404 Page not found :(  The requested page could not be found. "
    }, {
    "id": 1,
    "url": "/blog/categories.html",
    "title": "Categories",
    "body": "          Categories    {% for category in site. categories %}    {{ category[0] }}:     {% assign pages_list = category[1] %}    {% for post in pages_list %}    {% if post. title != null %}     {% if group == null or group == post. group %}      {% include main-loop-card. html %}     {% endif %}    {% endif %}    {% endfor %}    {% assign pages_list = nil %}    {% assign group = nil %}    {% endfor %}              {% include sidebar-featured. html %}    "
    }, {
    "id": 2,
    "url": "/blog/contact.html",
    "title": "Contact",
    "body": "   Please send your feedbacks, thoughts and suggestions. We will reply as soon as possible! If you prefer email, write to us at awin (AT) snowkite. io              "
    }, {
    "id": 3,
    "url": "/blog/credits.html",
    "title": "Credits",
    "body": "This is an adaptation of the Mundana for Jekyll theme by Sal at WowThemes. net. Icon credits - SvgRepo "
    }, {
    "id": 4,
    "url": "/blog/",
    "title": "Axion Stack - Blog",
    "body": "{% if page. url ==  /  %}{% for post in site. posts %}{% if post. tags contains  sticky  %}                    {{post. title}}                  {{ post. excerpt | strip_html | strip_newlines | truncate: 136 }}                 Read More &rarr;                        {% endif %}{% endfor %}{% endif %}       All Stories:     {% for post in paginator. posts %}            {% include main-loop-card. html %}    {% endfor %}               {% if paginator. total_pages &gt; 1 %}             {% if paginator. previous_page %}        &laquo; Prev       {% else %}        &laquo;       {% endif %}       {% for page in (1. . paginator. total_pages) %}        {% if page == paginator. page %}        {{ page }}        {% elsif page == 1 %}        {{ page }}        {% else %}        {{ page }}        {% endif %}       {% endfor %}       {% if paginator. next_page %}        Next &raquo;       {% else %}        &raquo;       {% endif %}            {% endif %}            {% include sidebar-featured. html %}  "
    }, {
    "id": 5,
    "url": "/blog/privacy",
    "title": "Privacy Policy",
    "body": "‚Äù{{site. name}}‚Äù takes your privacy seriously. To better protect your privacy we provide this privacy policy notice explaining the way your personal information is collected and used. Collection of Routine Information: This website track basic information about their visitors. This information includes, but is not limited to, IP addresses, browser details, timestamps and referring pages. None of this information can personally identify specific visitor to this website. The information is tracked for routine administration and maintenance purposes. Cookies: Where necessary, this website uses cookies to store information about a visitor‚Äôs preferences and history in order to better serve the visitor and/or present the visitor with customized content. Advertisement and Other Third Parties: Advertising partners and other third parties may use cookies, scripts and/or web beacons to track visitor activities on this website in order to display advertisements and other useful information. Such tracking is done directly by the third parties through their own servers and is subject to their own privacy policies. This website has no access or control over these cookies, scripts and/or web beacons that may be used by third parties. Learn how to opt out of Google‚Äôs cookie usage. Links to Third Party Websites: We have included links on this website for your use and reference. We are not responsible for the privacy policies on these websites. You should be aware that the privacy policies of these websites may differ from our own. Security: The security of your personal information is important to us, but remember that no method of transmission over the Internet, or method of electronic storage, is 100% secure. While we strive to use commercially acceptable means to protect your personal information, we cannot guarantee its absolute security. Changes To This Privacy Policy: This Privacy Policy is effective and will remain in effect except with respect to any changes in its provisions in the future, which will be in effect immediately after being posted on this page. We reserve the right to update or change our Privacy Policy at any time and you should check this Privacy Policy periodically. If we make any material changes to this Privacy Policy, we will notify you either through the email address you have provided us, or by placing a prominent notice on our website. Contact Information: For any questions or concerns regarding the privacy policy, please contact us here. "
    }, {
    "id": 6,
    "url": "/blog/tags.html",
    "title": "Tags",
    "body": "          Tags          {% for tag in site. tags %}     {{ tag[0] }}:           {% assign pages_list = tag[1] %}    {% for post in pages_list %}    {% if post. title != null %}     {% if group == null or group == post. group %}           {% include main-loop-card. html %}     {% endif %}    {% endif %}    {% endfor %}    {% assign pages_list = nil %}    {% assign group = nil %}    {% endfor %}                  {% include sidebar-featured. html %}          "
    }, {
    "id": 7,
    "url": "/blog/robots.txt",
    "title": "",
    "body": "      Sitemap: {{ ‚Äúsitemap. xml‚Äù   absolute_url }}   "
    }, {
    "id": 8,
    "url": "/blog/category/engineering/",
    "title": "engineering",
    "body": "      Stories on  {{ page. category }} :     {% for post in site. categories[page. category] %}            {% include main-loop-card. html %}    {% endfor %}        {% include sidebar-featured. html %}  "
    }, {
    "id": 9,
    "url": "/blog/category/shorts/",
    "title": "shorts",
    "body": "      Stories on  {{ page. category }} :     {% for post in site. categories[page. category] %}            {% include main-loop-card. html %}    {% endfor %}        {% include sidebar-featured. html %}  "
    }, {
    "id": 10,
    "url": "/blog/category/startup/",
    "title": "startup",
    "body": "      Stories on  {{ page. category }} :     {% for post in site. categories[page. category] %}            {% include main-loop-card. html %}    {% endfor %}        {% include sidebar-featured. html %}  "
    }, {
    "id": 11,
    "url": "/blog/build-vs-buy/",
    "title": "Build vs Buy - things to consider",
    "body": "2021/06/29 - What should you consider before deciding to build code yourself or to buy an off-the-shelf solution? Well, it depends.  Here are some of the factors you should consider, with examples. What aligns with your priorities?: Get your priorities straight. If you are just starting to build an app, the priority should be to figure out ways to get your first customers. Focus on first things first. Eliminate anything that sidetracks you from your plan of action. The first versions of many apps did not even have a feature to charge users. How far away are you from getting the first customers or moving the needle on your north star metric? Does what you are doing now, align with these priorities? Maybe, coding your landing page - will not align with it, and you would rather buy, or use a service for your landing page. If you are just starting out, your focus should rather be on the copy / messaging to your customers. Design and the ‚Äúlooks‚Äù of it is secondary to some extend (unless it is a barrier to conveying your message). The standards are pretty high these days, but getting something should not be difficult. Is this your core business?: During initial stages of building your app focusing most of your time on your core business is the way to go. Any time spent otherwise is a case for finding a tool that does it for you. That being said, delegating something that is highly coupled to your core business, is a bad idea. This adds dependency to external systems which you have no control on. How much time and money?: This one is a very obvious and straight forward question. How much time and resources does it take you or your team to build a system versus how much time will it take, to just integrate an off-the-shelf product. To a great extend, the frameworks that we build on - like Django or Ruby on Rails - offers a lot of in-built features, and comes with an ecosystem of packages that can be readily integrated without much effort. What are the risks and/or future costs?: When you are building a feature from scratch, consider the probablilty of throwing away the code in the future. The risk involved in shelving a feature or product, and along with it the time and money lost should be evaluated. This is also worth considering for the buy option. There is risk involved in the product not existing anymore, or the product pivoting into something else. Having a Plan B, or a list of alternative products is always handy. Building or integrating is not the only step. There is also costs involved in maintaining it. Lets consider the example of a billing system. Not only is creating a billing system a very complex affair, but also the time and costs of maintaining it with the complexities of regulations, and changes in your own pricing logic is very high. Maintenance costs are relatively small for integration of products, but well, it depends. Breaking changes in API, in external services (though not very common), would have your team working on fixing your system for days. Does it eliminate code?: With the advent of SaaS and services that focus on doing one thing really well, you can delegate parts of your application to external apps. Having no code to maintain for aspects you are not interested in, is a great investment. For example, using services like Stripe, Auth0, will make payments and authentication ‚Äúnot my headache anymore‚Äù. You can just make use of these great tools - allow them to do their thing very well - and focus on what is important to you. Do you get any superpowers?: Most times the tool you are considering to buy, will have 10 other features; other than the one that you are most interested in. Will you be able to leverage those options as well? For example, if you are considering to use Webflow for your landing page, may be you can use it to create a one off store as well using their e-commerce features. So that kills two birds in one shot! This will be true for most of the tools that you are evaluating. Don‚Äôt just stop at evaluating the only feature you are interested in - get a wholistic view of the tool/product and brainstorm ideas on how you can use some of its other features. . . . In this day and age, we have a plethora of tools for creating apps and projects. Its all about standing on the shoulders of the right giants. Creating and following a set framework to evaluate tools early enough in your startup journey will definitely help. These questions will help you weigh your options carefully, and find out the ones that best fits your needs. Axion Stack helps developers to cut-down time and money on getting a SaaS app up and running. This allows you to focus on your core business. Schedule a call today, to know if it is a good fit for you. "
    }, {
    "id": 12,
    "url": "/blog/finding-a-name-for-your-app/",
    "title": "Finding a name for your app",
    "body": "2021/06/26 - A ‚Äúgood‚Äù name helps to convey your message, and sometimes even help in its virality. It should just ‚Äúclick‚Äù for your prospective customers. Here is my process of finding a good name for your app. Finding terms related to your functional domain: Make a list of words that are related to your functional domain. It can be something that is direct, or a synonym, or some of the verbs and nouns used in your industry. For eg. if your idea is something related to meetings - it can be ‚Äúmeeting‚Äù, ‚Äúagenda‚Äù, ‚Äúconvention‚Äù, ‚Äúsession‚Äù etc. If you can possibly find something that is related, that also brings a positive feeling - it would work fantastic. For eg, ‚ÄúProgress‚Äù can be used as the name of an app that targets / measures student learning outcomes. It brings a nice positive feeling, when you say the word. Using suffixes and prefixes: You can use some commonly used suffixes or prefixes if the direct word is not available as a . com. For example, Slack was slackhq. com, in the initial days. Some prefixes you can use are - try, use, get, meet And suffixes - hq, fx, app Searching for a domain: Based on the keywords figured out above, there are many tools available online that can help you figure out a good domain. Should it always be a . com domain? Yes, stick to . com as much as possible. People tend to ‚Äútrust‚Äù . com the most. The other TLDs(top level domains) are good as well, but if . com is taken and points to something else, your prospective customers might be confused. And it won‚Äôt help SEO either. The following are some domain search tools: For one word domains   WordoidHelps you to ‚Äúcreate‚Äù words that looks and sounds good.     One Word DomainsGives you a list of one word domains for tlds like - . app, . ai, . co, . io  For two word domains   Lean Domain SearchGives you list of 2 word domains which has . com available to register. It also shows Twitter account availability.     AI Domain SearchGives you ideas on how you can make domains by combining words, suffixes or prefixes. Some of the domains might be taken, but it will still help you in figuring out a good domain.  Check trademarks: For the domains you shortlisted, check if there exists any trademarks for any of it. You can use a free trademark checking tool like TrademarkElite to check trademark registration in 180+ countries. Do a google search: Do a google search of your shortlisted domain, and check what the current results are? Is it used somewhere else? Is it some famous brand? Is it used somewhere else - say for eg. is it a name of a drug/medicine? If it doesnt have many search results, then it is good to go. Do the Radio Test: If suppose, someone talks about your app in a radio show, will it be easy enough for listeners to type it and go to the webpage directly or do a google search? This is an important factor for word-of-mouth growth, or when friends refer your app in a casual talk. Making use of simple words, with no spelling tricks, would be helpful here. Avoid word combination mishaps: Re-check your domains to avoid mishaps like:  Expertsexchange. com (Experts Exchange) Speedofart. com (Speed of Art) Therapistfinder. com (Therapist Finder)Test it with your friends: And finally, send your final shortlist to your friends, and ask them what they think about it. Human feedback can bring some interesting facts and perspectives, that you might not have thought of. . . . There are many factors that go into making an app successful. Finding a good name is just one of them. The name should bring a sense of trust, and positive vibes in the minds of your customers. Combine this with a good product and it will result in increased number of social shares, and higher popularity. Thinking of creating a new app?: You should give Axion Stack a try! Axion Stack helps developers to cut-down time and money on getting a SaaS app up and running. This allows you to focus on your core business. Schedule a call today, to know if it is a good fit for you. "
    }, {
    "id": 13,
    "url": "/blog/django-for-microservices/",
    "title": "Django for microapps?",
    "body": "2021/06/25 - Django is a batteries included framework, packed with a lot of features. Can we use it to create a small app - say for example just to host a form or a list? And it comes with a lot of sane defaults. As a fully loaded framework, it has a configurable auth module, and admin framework included. In the security department - it has XSS, CSRF, clickjacking and SQL injection protection built in. Read more about django security here. Together with the simplicity of the Python language, Django is one of the easiest frameworks to get started with. In fact, one of the design principles of the framework is to make development as quick as possible. You can get a simple app built and deployed in a matter of hours. So, is it possible to use the fully loaded framework for achiveving something simple like hosting a form, without all the clutter of its folder structure? Yes, definitely! Making a django app in a single file: This article will detail out how to build a django app in a single file. Django by default has a unique folder structure. It has a project folder, and separate folders for each ‚Äúapp‚Äù. And each of these folders have files for url routes, settings etc. To create a minimal one file app we need to define the following: 1. Settings/configuration for Django in the fileWe need the configuration to tell django where to look for the url patterns - as a bare minimum. from django. conf import settingssettings. configure(  ROOT_URLCONF=__name__,)2. Request handlerWe need a function to handle the request, and return a response. from django. http import HttpResponsedef hello_world(request):  return HttpResponse( Hello, Django! )3. URL patternsLets point the root url / to the request handler defined above. urlpatterns = [  path('', hello_world)]4. WSGI initfrom django. core. handlers. wsgi import WSGIHandlerapplication = WSGIHandler()Putting it all together, there is your django app in a single file. from django. conf import settingsfrom django. core. handlers. wsgi import WSGIHandlerfrom django. http import HttpResponsefrom django. urls import pathsettings. configure(  ROOT_URLCONF=__name__,)def hello_world(request):  return HttpResponse( Hello, Django! )urlpatterns = [  path('', hello_world)]application = WSGIHandler()You can run it with gunicorn with the following command. $ gunicorn hello_django:applicationA separate folder for templates: You can make it a bit more functional, by creating a separate folder for templates, along with the settings to configure the template directory. This will keep your html files separate, and not clutter the Python code. import osfrom pathlib import PathBASE_DIR = Path(__file__). resolve()settings. configure(  ROOT_URLCONF=__name__,  TEMPLATES=[    {       BACKEND :  django. template. backends. django. DjangoTemplates ,       DIRS : [os. path. join(BASE_DIR,  templates )],    }  ],)More settings additions: Add middlewares, and secret key for session. settings. configure(  ROOT_URLCONF=__name__,  SECRET_KEY = 'your-randomly-generated-secret-key',  TEMPLATES=[    {       BACKEND :  django. template. backends. django. DjangoTemplates ,       DIRS : [os. path. join(BASE_DIR,  templates )],    }  ],  MIDDLEWARE = [     django. middleware. security. SecurityMiddleware ,     django. contrib. sessions. middleware. SessionMiddleware ,     django. middleware. common. CommonMiddleware ,     django. middleware. csrf. CsrfViewMiddleware ,     django. contrib. auth. middleware. AuthenticationMiddleware ,     django. contrib. messages. middleware. MessageMiddleware ,     django. middleware. clickjacking. XFrameOptionsMiddleware ,  ]). . . You can use the power of Django and customize it to any folder structure that is best suited for you. And tremendously decrease your cognitive load, by scaling it down to a single file. References:    Carlton Gibson talk at DjangoCon US 2019 - video and related github repository.     Create a single file landing page with Django - video by Arun Ravindran.  "
    }];

var idx = lunr(function () {
    this.ref('id')
    this.field('title')
    this.field('body')

    documents.forEach(function (doc) {
        this.add(doc)
    }, this)
});



function lunr_search(term) {
    $('#lunrsearchresults').show( 1000 );
    $( "body" ).addClass( "modal-open" );

    document.getElementById('lunrsearchresults').innerHTML = '<div id="resultsmodal" class="modal fade show d-block"  tabindex="-1" role="dialog" aria-labelledby="resultsmodal"> <div class="modal-dialog shadow-lg" role="document"> <div class="modal-content"> <div class="modal-header" id="modtit"> <button type="button" class="close" id="btnx" data-dismiss="modal" aria-label="Close"> &times; </button> </div> <div class="modal-body"> <ul class="mb-0"> </ul>    </div> <div class="modal-footer"><button id="btnx" type="button" class="btn btn-secondary btn-sm" data-dismiss="modal">Close</button></div></div> </div></div>';
    if(term) {
        document.getElementById('modtit').innerHTML = "<h5 class='modal-title'>Search results for '" + term + "'</h5>" + document.getElementById('modtit').innerHTML;
        //put results on the screen.
        var results = idx.search(term);
        if(results.length>0){
            //console.log(idx.search(term));
            //if results
            for (var i = 0; i < results.length; i++) {
                // more statements
                var ref = results[i]['ref'];
                var url = documents[ref]['url'];
                var title = documents[ref]['title'];
                var body = documents[ref]['body'].substring(0,160)+'...';
                document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML + "<li class='lunrsearchresult'><a href='" + url + "'><span class='title'>" + title + "</span><br /><small><span class='body'>"+ body +"</span><br /><span class='url'>"+ url +"</span></small></a></li>";
            }
        } else {
            document.querySelectorAll('#lunrsearchresults ul')[0].innerHTML = "<li class='lunrsearchresult'>Sorry, no results found. Close & try a different search!</li>";
        }
    }
    return false;
}
</script>
<style>
    .lunrsearchresult .title {color: #d9230f;}
    .lunrsearchresult .url {color: silver;}
    .lunrsearchresult a {display: block; color: #777;}
    .lunrsearchresult a:hover, .lunrsearchresult a:focus {text-decoration: none;}
    .lunrsearchresult a:hover .title {text-decoration: underline;}
</style>




<form class="bd-search hidden-sm-down" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
<input type="text" class="form-control text-small"  id="lunrsearch" name="q" value="" placeholder="Type and hit enter...">
</form>

            </ul>
        </div>
    </div>
    </nav>

    <!-- Search Results -->
    <div id="lunrsearchresults">
        <ul class="mb-0"></ul>
    </div>

    <!-- Content -->
    <main role="main" class="site-content py-4">
        

<div class="container">
<div class="jumbotron jumbotron-fluid mb-3 mt-6 pl-0 pt-0 pb-0 bg-white position-relative">
		<div class="h-100 tofront">
			<div class="row  justify-content-between ">
				<div class=" col-md-6  pr-0 pr-md-4 pt-4 pb-4 align-self-center">
					<p class="text-uppercase font-weight-bold">
                        <span class="catlist">
						
                          <a class="sscroll text-primary" href="/blog/categories.html#engineering">engineering</a><span class="sep">, </span>
                        
                          <a class="sscroll text-primary" href="/blog/categories.html#shorts">shorts</a><span class="sep">, </span>
                        
                        </span>
					</p>
					<h1 class="display-4 mb-4 article-headline">Django for microapps?</h1>
					<div class="d-flex align-items-center">
                        
                        <img class="rounded-circle" src="/blog/assets/img/awin.jpg" alt="Awin" width="70"/>
                        
						<small class="ml-3"> Awin
              <span class="text-muted d-block mt-1">Jun 25, 2021 ¬∑ <span class="reading-time">
  
  
    4 mins read
  
</span>
    </span>
						</small>
					</div>
				</div>
                
				<div class="col-md-6 pr-0 align-self-center">
					<img class="rounded" src="/blog//assets/img/posts/microapps.jpg" alt="Django for microapps?">
				</div>
                
			</div>
		</div>
	</div>
</div>





<div class="container-lg pt-4 pb-4">
	<div class="row justify-content-center">

    <!-- Share -->
		<div class="col-lg-2 pr-4 mb-4 col-md-12">
			<div class="sticky-top sticky-top-offset text-center">
				<div class="text-muted">
					Share this
				</div>
				<div class="share d-inline-block">
					<!-- AddToAny BEGIN -->
					<div class="a2a_kit a2a_kit_size_32 a2a_default_style">
						<a class="a2a_dd" href="https://www.addtoany.com/share"></a>
						<a class="a2a_button_facebook"></a>
						<a class="a2a_button_twitter"></a>
					</div>
					<script async src="https://static.addtoany.com/menu/page.js"></script>
					<!-- AddToAny END -->
				</div>
			</div>
		</div>


		<div class="col-md-12 col-lg-8">

      <!-- Article -->
			<article class="article-post">
			<p>Django is a batteries included framework, packed with a lot of features. Can we use it to create a small app - say for example just to host a form or a list?</p>

<!-- more -->

<p>And it comes with a lot of sane defaults. As a fully loaded framework, it has a configurable auth module, and admin framework included.</p>

<p>In the security department - it has XSS, CSRF, clickjacking and SQL injection protection built in. Read more about django security <a href="https://docs.djangoproject.com/en/3.2/topics/security/">here</a>.</p>

<p>Together with the simplicity of the Python language, Django is one of the easiest frameworks to get started with. In fact, one of the design principles of the framework is to make development as quick as possible. You can get a simple app built and deployed in a matter of hours.</p>

<p>So, is it possible to use the fully loaded framework for achiveving something simple like hosting a form, without all the clutter of its folder structure?</p>

<p>Yes, definitely!</p>

<h3 id="making-a-django-app-in-a-single-file">Making a django app in a single file</h3>

<p>This article will detail out how to build a django app in a single file.</p>

<p>Django by default has a unique folder structure. It has a project folder, and separate folders for each ‚Äúapp‚Äù. And each of these folders have files for url routes, settings etc.</p>

<p>To create a minimal one file app we need to define the following:</p>

<h5 id="1-settingsconfiguration-for-django-in-the-file">1. Settings/configuration for Django in the file</h5>
<p>We need the configuration to tell django where to look for the url patterns - as a bare minimum.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>

<span class="n">settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
    <span class="n">ROOT_URLCONF</span><span class="o">=</span><span class="n">__name__</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></div>

<h5 id="2-request-handler">2. Request handler</h5>
<p>We need a function to handle the request, and return a response.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>

<span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s">"Hello, Django!"</span><span class="p">)</span>

</code></pre></div></div>

<h5 id="3-url-patterns">3. URL patterns</h5>

<p>Lets point the root url <code class="highlighter-rouge">/</code> to the request handler defined above.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s">''</span><span class="p">,</span> <span class="n">hello_world</span><span class="p">)</span>
<span class="p">]</span>

</code></pre></div></div>

<h5 id="4-wsgi-init">4. WSGI init</h5>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">django.core.handlers.wsgi</span> <span class="kn">import</span> <span class="n">WSGIHandler</span>

<span class="n">application</span> <span class="o">=</span> <span class="n">WSGIHandler</span><span class="p">()</span>

</code></pre></div></div>

<p>Putting it all together, there is your django app in a single file.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>
<span class="kn">from</span> <span class="nn">django.core.handlers.wsgi</span> <span class="kn">import</span> <span class="n">WSGIHandler</span>
<span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>
<span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>

<span class="n">settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
    <span class="n">ROOT_URLCONF</span><span class="o">=</span><span class="n">__name__</span><span class="p">,</span>
<span class="p">)</span>

<span class="k">def</span> <span class="nf">hello_world</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s">"Hello, Django!"</span><span class="p">)</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s">''</span><span class="p">,</span> <span class="n">hello_world</span><span class="p">)</span>
<span class="p">]</span>

<span class="n">application</span> <span class="o">=</span> <span class="n">WSGIHandler</span><span class="p">()</span>

</code></pre></div></div>

<p>You can run it with <code class="highlighter-rouge">gunicorn</code> with the following command.</p>
<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>gunicorn hello_django:application

</code></pre></div></div>

<h4 id="a-separate-folder-for-templates">A separate folder for templates</h4>

<p>You can make it a bit more functional, by creating a separate folder for templates, along with the settings to configure the template directory. This will keep your html files separate, and not clutter the Python code.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="n">BASE_DIR</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>

<span class="n">settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
    <span class="n">ROOT_URLCONF</span><span class="o">=</span><span class="n">__name__</span><span class="p">,</span>
    <span class="n">TEMPLATES</span><span class="o">=</span><span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"BACKEND"</span><span class="p">:</span> <span class="s">"django.template.backends.django.DjangoTemplates"</span><span class="p">,</span>
            <span class="s">"DIRS"</span><span class="p">:</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s">"templates"</span><span class="p">)],</span>
        <span class="p">}</span>
    <span class="p">],</span>
<span class="p">)</span>

</code></pre></div></div>

<h4 id="more-settings-additions">More <code class="highlighter-rouge">settings</code> additions</h4>

<p>Add middlewares, and secret key for session.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">settings</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
    <span class="n">ROOT_URLCONF</span><span class="o">=</span><span class="n">__name__</span><span class="p">,</span>
    <span class="n">SECRET_KEY</span> <span class="o">=</span> <span class="s">'your-randomly-generated-secret-key'</span><span class="p">,</span>
    <span class="n">TEMPLATES</span><span class="o">=</span><span class="p">[</span>
        <span class="p">{</span>
            <span class="s">"BACKEND"</span><span class="p">:</span> <span class="s">"django.template.backends.django.DjangoTemplates"</span><span class="p">,</span>
            <span class="s">"DIRS"</span><span class="p">:</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s">"templates"</span><span class="p">)],</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="n">MIDDLEWARE</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s">"django.middleware.security.SecurityMiddleware"</span><span class="p">,</span>
        <span class="s">"django.contrib.sessions.middleware.SessionMiddleware"</span><span class="p">,</span>
        <span class="s">"django.middleware.common.CommonMiddleware"</span><span class="p">,</span>
        <span class="s">"django.middleware.csrf.CsrfViewMiddleware"</span><span class="p">,</span>
        <span class="s">"django.contrib.auth.middleware.AuthenticationMiddleware"</span><span class="p">,</span>
        <span class="s">"django.contrib.messages.middleware.MessageMiddleware"</span><span class="p">,</span>
        <span class="s">"django.middleware.clickjacking.XFrameOptionsMiddleware"</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">)</span>

</code></pre></div></div>
<div class="divider">...</div>

<p>You can use the power of Django and customize it to any folder structure that is best suited for you. And tremendously decrease your cognitive load, by scaling it down to a single file.</p>

<h4 id="references">References</h4>

<ul>
  <li>
    <p>Carlton Gibson talk at DjangoCon US 2019 - <a href="https://www.youtube.com/watch?v=w9cYEovduWI">video</a> and related <a href="https://github.com/wsvincent/django-microframework">github repository</a>.</p>
  </li>
  <li>
    <p>Create a single file landing page with Django - <a href="https://www.youtube.com/watch?v=7XNChGGoBf0">video by Arun Ravindran</a>.</p>
  </li>
</ul>

			</article>

			<!-- Tags -->
			<div class="mb-4">
				<span class="taglist">
				
				  <a class="sscroll btn btn-light btn-sm font-weight-bold" href="/blog/tags.html#featured">featured</a>
				
				</span>
			</div>

            <!-- Mailchimp Subscribe Form -->
            


             <!-- Author Box -->
                
				<div class="row mt-5">
					<div class="col-md-2 align-self-center">
            
              <img class="rounded-circle" src="/blog/assets/img/awin.jpg" alt="Awin" width="90"/>
            
					</div>
					<div class="col-md-10">
                        <h5 class="font-weight-bold">Written by Awin <span><a target="_blank" href="https://twitter.com/AxionStack" class="btn btn-outline-success btn-sm btn-round ml-2">Follow</a></span></h5>
						üëã Hello, I am Awin, Founder at Axion Stack. <br /><br />We are on a mission to help micro-SaaS businesses get off the ground! <i>Feel free to reachout for any feedback / questions.</i>
					</div>
				</div>
                

            <!-- Comments -->
            
                <!--  Don't edit anything here. Set your disqus id in _config.yml -->

<div id="comments" class="mt-5">
    <div id="disqus_thread">
    </div>
    <script type="text/javascript">
        var disqus_shortname = ''; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>
    Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>
</div>
            

		</div>


	</div>
</div>


<!-- Aletbar Prev/Next -->
<div class="alertbar">
    <div class="container">
        <div class="row prevnextlinks small font-weight-bold">
          
          
            <div class="col-md-6 text-right pr-0">
                <a class="text-dark" href="/blog/finding-a-name-for-your-app/"> Finding a name for your app  <img height="30px" class="ml-1" src="/blog//assets/img/posts/naming.jpg"> </a>
            </div>
          
        </div>
    </div>
</div>

    </main>


    <!-- Scripts: popper, bootstrap, theme, lunr -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <script src="/blog/assets/js/theme.js"></script>


    <!-- Footer -->
    <footer class="bg-white border-top p-3 text-muted small">
        <div class="container">
        <div class="row align-items-center justify-content-between">
            <div>
                <span class="navbar-brand mr-2 mb-0"><span>Axion Stack</span></span>
                <span>Copyright ¬© <script>document.write(new Date().getFullYear())</script>.</span>
            </div>
            <div>
                <a target="_blank" class="text-small text-dark" href="/blog/credits.html"> Theme / Icon Credits</a>
            </div>
        </div>
        </div>
    </footer>

    <!-- All this area goes before </body> closing tag --> 


</body>

</html>
